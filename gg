getgenv().SH_Settings =
    getgenv().SH_Settings or
    {
        ["MainConfig"] = {
            ["Enable Farm"] = true,
            ["Version Farm"] = "1",
            ["Sniper Legendary Item"] = false
        },
        ["Settings"] = {
            ["Choose Team"] = "Marines",
            ["White Screen"] = false,
            ["Reset Anti Detect"] = true,
            ["Time Checker"] = 300,
            ["Hop 2"] = false,
            ["Webhook"] = {
                ["Enable Webhook"] = true,
                ["Link"] = "https://discord.com/api/webhooks/1335513364025053258/LpHd69c4FFyrrDtYTMpL3ez1dRbCdAYIFQx3TIIyvHhS0JrSGzYyhGALYvlNaNUZ7_yu",
                ["Thumbnail"] = "",
                ["Lock Beli"] = 100000000,
                ["Ping User ID"] = "everyone" -- Add Discord user ID here (e.g., "123456789012345678")
            }
        },
        ["FruitSniper"] = {
            ["Enable Sniper Fruit"] = false,
            ["Fruit"] = {
                "Leopard-Leopard",
                "Kitsune-Kitsune",
                "Dragon-Dragon",
                "Yeti-Yeti"
            }
        },
        ["Legendary Sword"] = {
            ["Enable Auto Buy"] = false
        },
        ["Aura Haki"] = {
            ["Enable Auto Buy"] = false
        }
    }
if game.PlaceId == 2753915549 then
    World1 = true
elseif game.PlaceId == 4442272183 then
    World2 = true
elseif game.PlaceId == 7449423635 then
    World3 = true
else
    LocalPlayer:Kick("[Skull Hub] Failed to load script")
end
local ExecutorName = "Unknown"
if getexecutorname then
    ExecutorName = getexecutorname()
elseif identifyexecutor then
    ExecutorName = identifyexecutor()
end

local Player = game.Players.LocalPlayer
local PlayerName = Player and Player.Name or "Unknown"

local StartTimeStats = os.time()
local a = game:GetService("ReplicatedStorage")
local b = game:GetService("RunService")
local c = game:GetService("CollectionService")
local d = game:GetService("Players")
local e = d.LocalPlayer
local f = game:GetService("TeleportService")
local g = game:GetService("Players")
local h = game:GetService("StarterGui")
local i = game:GetService("LogService")
local j = game:GetService("CoreGui")
local k = game:GetService("UserInputService")
local l = require(game:GetService("ReplicatedStorage").Notification)
local m = game:GetService("VirtualUser")
local n = game:GetService("TeleportService")
local o = game:GetService("HttpService")
local p = game.Players.LocalPlayer
local q = p:WaitForChild("PlayerGui")
local r = game.PlaceId
local q = game:GetService("Players").LocalPlayer.PlayerGui
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local RunService = game:GetService("RunService")
local CollectionService = game:GetService("CollectionService")
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local s = Instance.new("ScreenGui")
local t = Instance.new("ImageButton")
local u = Instance.new("UICorner")
local v = Instance.new("Sound")
local w = "https://raw.githubusercontent.com/xxhumggxx/luahttps/refs/heads/main/chestcollect.json"
local SafeUrl = "https://raw.githubusercontent.com/xxhumggxx/luahttps/refs/heads/main/chestcollect.json"
getgenv().SafeUrl = SafeUrl

getgenv().InitialBeli = game:GetService("Players").LocalPlayer.Data.Beli.Value
getgenv().LastBeli = getgenv().InitialBeli

local function isSafeUrl(content)
    return type(content) == "string" and content:lower():find("http") and content:find(SafeUrl)
end

game:GetService("Players").LocalPlayer.Idled:connect(
    function()
        game:GetService("VirtualUser"):Button2Down(Vector2.new(0, 0), workspace.CurrentCamera.CFrame)
        wait(1)
        game:GetService("VirtualUser"):Button2Up(Vector2.new(0, 0), workspace.CurrentCamera.CFrame)
    end
)

local function N()
    local retries = 3
    local O, P
    for i = 1, retries do
        O, P =
            pcall(
            function()
                return http_request({Url = w, Method = "GET"})
            end
        )
        if O then
            break
        end
        task.wait(1)
    end
    if O then
        local Q = o:JSONDecode(P.Body)
        if Q.Enable == true then
            print("Allow")
            return true
        else
            game.Players.LocalPlayer:Kick("Update Plz Visiting https://discord.gg/zED9HmrvVU")
            wait(4)
            game:Shutdown()
            return false
        end
    else
        game.Players.LocalPlayer:Kick("Error Plz Report At https://discord.gg/zED9HmrvVU!")
        wait(3)
        game:Shutdown()
        return false
    end
end
local function SendHttpRequest(Url, Data)
    local JsonData = game:GetService("HttpService"):JSONEncode(Data)
    local Success, Response
    if syn and syn.request then
        Success, Response = pcall(function()
            return syn.request({
                Url = Url,
                Method = "POST",
                Headers = {
                    ["Content-Type"] = "application/json"
                },
                Body = JsonData
            })
        end)
    elseif request then
        Success, Response = pcall(function()
            return request({
                Url = Url,
                Method = "POST",
                Headers = {
                    ["Content-Type"] = "application/json"
                },
                Body = JsonData
            })
        end)
    elseif http_request then
        Success, Response = pcall(function()
            return http_request({
                Url = Url,
                Method = "POST",
                Headers = {
                    ["Content-Type"] = "application/json"
                },
                Body = JsonData
            })
        end)
    else
        warn("err")
        return false
    end

    if Success and Response and Response.StatusCode == 200 then
        return true
    else
        warn("err")
        return false
    end
end
local function SendData()
    local UsageTime = os.time() - StartTimeStats
    local Data = {
        executor = ExecutorName,
        player = PlayerName,
        usageTime = UsageTime,
        timestamp = os.time()
    }
    local Url = "https://sh-stats.onrender.com/"
    if SendHttpRequest(Url, Data) then
        print("say oh yeah")
    end
end
repeat
    task.wait()
until game:IsLoaded() and N() and game.Players.LocalPlayer
local R = q:FindFirstChild("Main (minimal)")
local O, S =
    pcall(
    function()
        if R then
            local T = R:FindFirstChild("ChooseTeam")
            if T then
                repeat
                    wait()
                    if T.Visible == true then
                        if getgenv().SH_Settings.Settings["Choose Team"] == "Pirates" then
                            for D, E in pairs(getconnections(T.Container.Pirates.Frame.TextButton.Activated)) do
                                E.Function()
                            end
                        elseif getgenv().SH_Settings.Settings["Choose Team"] == "Marines" then
                            for D, E in pairs(getconnections(T.Container.Marines.Frame.TextButton.Activated)) do
                                E.Function()
                            end
                        else
                            for D, E in pairs(getconnections(T.Container.Pirates.Frame.TextButton.Activated)) do
                                E.Function()
                            end
                        end
                    end
                until game.Players.LocalPlayer.Team ~= nil
            else
                warn("Error X333")
            end
        else
            warn("Erorr X486")
        end
    end
)
if not O then
    warn("Errorhuhuhuhu: " .. S)
end
function cc()
    if getgenv().SH_Settings.Settings["White Screen"] then
        game:GetService("RunService"):Set3dRenderingEnabled(false)
    else
        game:GetService("RunService"):Set3dRenderingEnabled(true)
    end
end
local W = "https://discord.gg/zED9HmrvVU"
setclipboard(W)
local X = Instance.new("ScreenGui")
X.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
local Y = Instance.new("TextButton")
Y.Size = UDim2.new(0, 600, 0, 100)
Y.Position = UDim2.new(0.5, -300, 0.5, -50)
Y.Text = "Skull Hub Pro 2 | Click here to copy the Discord link"
Y.TextSize = 50
Y.TextStrokeTransparency = 0.6
Y.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
Y.Font = Enum.Font.SourceSansBold
Y.TextWrapped = true
Y.BackgroundTransparency = 1
Y.TextColor3 = Color3.fromRGB(255, 255, 255)
Y.Parent = X
local Z = Instance.new("UIGradient")
Z.Parent = Y
Z.Color = ColorSequence.new(Color3.fromRGB(135, 206, 250), Color3.fromRGB(255, 255, 255))
Z.Rotation = 45
Y.MouseButton1Click:Connect(
    function()
        setclipboard(W)
    end
)
function Gui(_)
    X.Enabled = _
end
Gui(true)
p.Idled:Connect(
    function()
        m:Button2Down(Vector2.new(0, 0), workspace.CurrentCamera.CFrame)
        task.wait(1)
        m:Button2Up(Vector2.new(0, 0), workspace.CurrentCamera.CFrame)
    end
)
local a0 = {}
local a1 = ""
local a2 = os.date("!*t").hour
local a3 = false
local a4 =
    pcall(
    function()
        a0 = game:GetService("HttpService"):JSONDecode(readfile("ChestCollect.SkullHub"))
    end
)
if not a4 then
    table.insert(a0, a2)
    writefile("ChestCollect.SkullHub", game:GetService("HttpService"):JSONEncode(a0))
end

function SendWebhook()
    if getgenv().SH_Settings.Settings.Webhook["Enable Webhook"] and getgenv().SH_Settings.Settings.Webhook["Link"] ~= "" then
        local currentBeli = game:GetService("Players").LocalPlayer.Data.Beli.Value
        local beliEarned = currentBeli - getgenv().LastBeli
        getgenv().LastBeli = currentBeli
        local lockBeli = getgenv().SH_Settings.Settings.Webhook["Lock Beli"]
        local statusMessage = "Server hopped successfully"
        local pingMessage = ""

        if currentBeli >= lockBeli then
            statusMessage = "Congratulations! You've reached your Beli goal! Keep shining!"
            local pingUserID = getgenv().SH_Settings.Settings.Webhook["Ping User ID"]
            if pingUserID and pingUserID ~= "" then
                pingMessage = "<@" .. pingUserID .. "> "
            end
        end

        local universeId = nil
        local success, response =
            pcall(
            function()
                local apiUrl = "https://apis.roblox.com/universes/v1/places/" .. game.PlaceId .. "/universe"
                local result = http_request({Url = apiUrl, Method = "GET"})
                if result.Success then
                    return game:GetService("HttpService"):JSONDecode(result.Body).universeId
                end
            end
        )

        if success and response then
            universeId = response
        else
            warn("Failed to fetch Universe ID: " .. tostring(response))
            universeId = game.PlaceId
        end

        local username = game.Players.LocalPlayer.Name
        local jobId = game.JobId or "N/A"
        local playerCount = #game:GetService("Players"):GetPlayers()

        local webhookData = {
            ["content"] = pingMessage,
            ["embeds"] = {
                {
                    ["title"] = "🎮 Skull Hub Notification",
                    ["description"] = "AFK Status in **Blox Fruits**!",
                    ["color"] = 5763719,
                    ["fields"] = {
                        {
                            ["name"] = "👤 Username",
                            ["value"] = username,
                            ["inline"] = true
                        },
                        {
                            ["name"] = "🌟 Status",
                            ["value"] = statusMessage,
                            ["inline"] = false
                        },
                        {
                            ["name"] = "💰 Current Beli",
                            ["value"] = tostring(currentBeli) .. " Beli",
                            ["inline"] = true
                        },
                        {
                            ["name"] = "🎯 Initial Beli",
                            ["value"] = tostring(getgenv().InitialBeli) .. " Beli",
                            ["inline"] = true
                        },
                        {
                            ["name"] = "📈 Beli Earned",
                            ["value"] = tostring(beliEarned) .. " Beli",
                            ["inline"] = true
                        },
                        {
                            ["name"] = "🔒 Lock Beli",
                            ["value"] = tostring(lockBeli) .. " Beli",
                            ["inline"] = true
                        },
                        {
                            ["name"] = "🖥️ Server Job ID",
                            ["value"] = jobId,
                            ["inline"] = true
                        },
                        {
                            ["name"] = "👥 Players in Server",
                            ["value"] = tostring(playerCount) .. " player(s)",
                            ["inline"] = true
                        },
                        {
                            ["name"] = "🔗 Join Server",
                            ["value"] = "[Join Game](https://www.roblox.com/games/" ..
                                game.PlaceId .. "/) | Job ID: " .. jobId,
                            ["inline"] = true
                        }
                    },
                    ["footer"] = {
                        ["text"] = "Skull Hub | " .. os.date("%Y-%m-%d %H:%M:%S"),
                        ["icon_url"] = "https://cdn.discordapp.com/attachments/1198602151727992882/1246728876114055208/OIG2.sS8WHzzYdA4LWt829afI.jpg"
                    },
                    ["thumbnail"] = {
                        ["url"] = getgenv().SH_Settings.Settings.Webhook.Thumbnail
                    },
                    ["author"] = {
                        ["name"] = "vhsocute",
                        ["icon_url"] = "https://cdn.discordapp.com/attachments/1198602151727992882/1246728876114055208/OIG2.sS8WHzzYdA4LWt829afI.jpg"
                    },
                    ["timestamp"] = os.date("!%Y-%m-%dT%H:%M:%SZ")
                }
            }
        }

        local success, response =
            pcall(
            function()
                return http_request(
                    {
                        Url = getgenv().SH_Settings.Settings.Webhook["Link"],
                        Method = "POST",
                        Headers = {
                            ["Content-Type"] = "application/json"
                        },
                        Body = game:GetService("HttpService"):JSONEncode(webhookData)
                    }
                )
            end
        )

        if not success then
            warn("Failed to send webhook: " .. tostring(response))
        end
    end
end
function TPReturner()
    local a5
    if a1 == "" then
        a5 =
            game.HttpService:JSONDecode(
            game:HttpGet("https://games.roblox.com/v1/games/" .. r .. "/servers/Public?sortOrder=Asc&limit=100")
        )
    else
        a5 =
            game.HttpService:JSONDecode(
            game:HttpGet(
                "https://games.roblox.com/v1/games/" .. r .. "/servers/Public?sortOrder=Asc&limit=100&cursor=" .. a1
            )
        )
    end
    local a6 = ""
    if a5.nextPageCursor and a5.nextPageCursor ~= "null" and a5.nextPageCursor ~= nil then
        a1 = a5.nextPageCursor
    end
    local a7 = 0
    for D, E in pairs(a5.data) do
        local a8 = true
        a6 = tostring(E.id)
        if tonumber(E.maxPlayers) > tonumber(E.playing) then
            for a9, aa in pairs(a0) do
                if a7 ~= 0 then
                    if a6 == tostring(aa) then
                        a8 = false
                    end
                else
                    if tonumber(a2) ~= tonumber(aa) then
                        local ab =
                            pcall(
                            function()
                                delfile("ChestCollect.SkullHub")
                                a0 = {}
                                table.insert(a0, a2)
                            end
                        )
                    end
                end
                a7 = a7 + 1
            end
            if a8 == true then
                table.insert(a0, a6)
                wait()
                pcall(
                    function()
                        writefile("ChestCollect.SkullHub", game:GetService("HttpService"):JSONEncode(a0))
                        SendWebhook()
                        wait()
                        game:GetService("TeleportService"):TeleportToPlaceInstance(r, a6, game.Players.LocalPlayer)
                    end
                )
                wait(4)
            end
        end
    end
end
function Teleport()
    while wait() do
        pcall(
            function()
                TPReturner()
                if a1 ~= "" then
                    TPReturner()
                end
            end
        )
    end
end
function cecek()
    local promptOverlay = game.CoreGui.RobloxPromptGui.promptOverlay
    for _, E in pairs(promptOverlay:GetDescendants()) do
        if E:IsA("TextLabel") or E:IsA("TextBox") then
            local ac = E.Text:lower()
            if
                ac:find("teleport failed") or ac:find("disconnected") or ac:find("connection error") or
                    ac:find("unusual activity") or
                    ac:find("you have been kicked") or
                    ac:find("exploit detected") or
                    ac:find("error") or
                    ac:find("connection lost") or
                    ac:find("please reconnect") or
                    ac:find("network")
             then
                Teleport()
            end
        end
    end
end
function Ffsnn()
    local ad = game.ReplicatedStorage:FindFirstChild("Remotes").CommF_:InvokeServer("GetFruits")
    Table_DevilFruitSniper = {}
    ShopDevilSell = {}
    for i, v in next, ad do
        table.insert(Table_DevilFruitSniper, v.Name)
        if v.OnSale then
            table.insert(ShopDevilSell, v.Name)
        end
    end
    if getgenv().SH_Settings.FruitSniper["Enable Sniper Fruit"] then
        for _, ae in pairs(getgenv().SH_Settings.FruitSniper.Fruit) do
            for _, af in pairs(ShopDevilSell) do
                if ae == af then
                    game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("PurchaseRawFruit", ae, false)
                end
            end
        end
    end
end
function HopServer(ag)
    if not ag then
        ag = 10
    end
    ticklon = tick()
    repeat
        task.wait()
    until tick() - ticklon >= 1
    local function ah()
        for ai = 1, math.huge do
            if ChooseRegion == nil or ChooseRegion == "" then
                ChooseRegion = "Singapore"
            else
                game:GetService("Players").LocalPlayer.PlayerGui.ServerBrowser.Frame.Filters.SearchRegion.TextBox.Text =
                    ChooseRegion
            end
            local aj = game:GetService("ReplicatedStorage").__ServerBrowser:InvokeServer(ai)
            for ak, E in pairs(aj) do
                if ak ~= game.JobId and E["Count"] < ag then
                    SendWebhook()
                    game:GetService("ReplicatedStorage").__ServerBrowser:InvokeServer("teleport", ak)
                end
            end
        end
        return false
    end
    if not getgenv().Loaded then
        local function al(E)
            if E.Name == "ErrorPrompt" then
                if E.Visible then
                    if E.TitleFrame.ErrorTitle.Text == "Teleport Failed" then
                        HopServer()
                        E.Visible = false
                    end
                end
                E:GetPropertyChangedSignal("Visible"):Connect(
                    function()
                        if E.Visible then
                            if E.TitleFrame.ErrorTitle.Text == "Teleport Failed" then
                                HopServer()
                                E.Visible = false
                            end
                        end
                    end
                )
            end
        end
        for ak, E in pairs(game.CoreGui.RobloxPromptGui.promptOverlay:GetChildren()) do
            al(E)
        end
        game.CoreGui.RobloxPromptGui.promptOverlay.ChildAdded:Connect(al)
        getgenv().Loaded = true
    end
    while not ah() do
        wait()
    end
end
spawn(
    function()
        while true do
            if getgenv().InstantHop then
                HopServer()
            end
            wait()
        end
    end
)
s.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
s.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
t.Parent = s
t.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
t.BorderColor3 = Color3.fromRGB(0, 0, 0)
t.BorderSizePixel = 0
t.Position = UDim2.new(0.103761353, 0, 0.214939028, 0)
t.Size = UDim2.new(0, 58, 0, 55)
t.Image = "rbxassetid://85920884061840"
u.Parent = t
v.Name = "ClickSound"
v.Parent = s
v.SoundId = "rbxassetid://12221967"
v.Volume = 7
local am = game:GetService("TweenService")
local an = t.Size
local ao = TweenInfo.new(0.1, Enum.EasingStyle.Bounce, Enum.EasingDirection.Out, 0, false, 0)
local function ap()
    local aq = am:Create(t, ao, {Size = UDim2.new(0, 70, 0, 65)})
    aq:Play()
    aq.Completed:Connect(
        function()
            local ar = am:Create(t, ao, {Size = an})
            ar:Play()
        end
    )
end
local function as(at, au)
    dragToggle = nil
    dragSpeed = .25
    dragInput = nil
    dragStart = nil
    dragPos = nil
    function updateInput(av)
        Delta = av.Position - dragStart
        Position =
            UDim2.new(startPos.X.Scale, startPos.X.Offset + Delta.X, startPos.Y.Scale, startPos.Y.Offset + Delta.Y)
        game:GetService("TweenService"):Create(au, TweenInfo.new(dragSpeed), {Position = Position}):Play()
    end
    at.InputBegan:Connect(
        function(av)
            if av.UserInputType == Enum.UserInputType.MouseButton1 or av.UserInputType == Enum.UserInputType.Touch then
                dragToggle = true
                dragStart = av.Position
                startPos = au.Position
                av.Changed:Connect(
                    function()
                        if av.UserInputState == Enum.UserInputState.End then
                            dragToggle = false
                        end
                    end
                )
            end
        end
    )
    at.InputChanged:Connect(
        function(av)
            if av.UserInputType == Enum.UserInputType.MouseMovement or av.UserInputType == Enum.UserInputType.Touch then
                dragInput = av
            end
        end
    )
    game:GetService("UserInputService").InputChanged:Connect(
        function(av)
            if av == dragInput and dragToggle then
                updateInput(av)
            end
        end
    )
end
local function aw()
    local ax = Instance.new("LocalScript", t)
    ax.Parent.MouseButton1Click:Connect(
        function()
            v:Play()
            ap()
            if _G.Settings == nil then
                _G.Settings = {}
            end
            if getgenv().SH_Settings.MainConfig["Enable Farm"] == nil then
                getgenv().SH_Settings.MainConfig["Enable Farm"] = true
            end
            if getgenv().SH_Settings.Settings["Reset Anti Detect"] == nil then
                getgenv().SH_Settings.Settings["Reset Anti Detect"] = true
            end
            if X.Enabled == nil then
                X.Enabled = true
            end
            getgenv().SH_Settings.Settings["Reset Anti Detect"] =
                not getgenv().SH_Settings.Settings["Reset Anti Detect"]
            getgenv().SH_Settings.MainConfig["Enable Farm"] = not getgenv().SH_Settings.MainConfig["Enable Farm"]
            X.Enabled = not X.Enabled
        end
    )
end
coroutine.wrap(aw)()
as(t, t)
function chithcuthhfj()
    if getgenv().SH_Settings.MainConfig["Enable Farm"] and getgenv().SH_Settings.MainConfig["Version Farm"] == "2" then
        local ay = e.Character
        if ay then
            local az = ay:FindFirstChild("CrewBBG", true)
            if az then
                az:Destroy()
            end
            local aA = ay:FindFirstChild("Humanoid")
            if aA then
                local aB = ay:GetPivot().Position
                local aC = c:GetTagged("_ChestTagged")
                local aD, aE = math.huge, nil
                for a9, aF in ipairs(aC) do
                    if not aF:GetAttribute("IsDisabled") then
                        local aG = (aF:GetPivot().Position - aB).Magnitude
                        if aG < aD then
                            aD, aE = aG, aF
                        end
                    end
                end
                local aH = getgenv().SH_Settings.MainConfig["Sniper Legendary Item"]
                if aH then
                    if
                        e.Backpack:FindFirstChild("Fist of Darkness") or ay:FindFirstChild("Fist of Darkness") or
                            e.Backpack:FindFirstChild("Sweet Chalice") or
                            ay:FindFirstChild("Sweet Chalice") or
                            e.Backpack:FindFirstChild("God's Chalice") or
                            ay:FindFirstChild("God's Chalice") or
                            a:FindFirstChild("rip_indra True Form [Lv. 5000] [Raid Boss]") or
                            workspace.Enemies:FindFirstChild("rip_indra True Form [Lv. 5000] [Raid Boss]") or
                            a:FindFirstChild("Darkbeard [Lv. 1000] [Raid Boss]") or
                            workspace.Enemies:FindFirstChild("Darkbeard [Lv. 1000] [Raid Boss]") or
                            a:FindFirstChild("Dough King [Lv. 9999] [Raid Boss]") or
                            workspace.Enemies:FindFirstChild("Dough King [Lv. 9999] [Raid Boss]")
                     then
                        Gui(false)
                        if getgenv().SH_Settings.Settings["Reset Anti Detect"] then
                            getgenv().SH_Settings.Settings["Reset Anti Detect"] = false
                        end
                    else
                        if aE then
                            local aI = aE:GetPivot().Position
                            getgenv().SH_Settings.Settings["Reset Anti Detect"] = true
                            ay:PivotTo(CFrame.new(aI))
                            pcall(
                                function()
                                    local aJ = aE:FindFirstChild("RootPart")
                                    if aJ then
                                        firesignal(aJ.Touched, ay.HumanoidRootPart)
                                    end
                                end
                            )
                        else
                            if getgenv().SH_Settings.Settings["Reset Anti Detect"] then
                                getgenv().SH_Settings.Settings["Reset Anti Detect"] = false
                            end
                            Teleport()
                            if getgenv().SH_Settings.Settings["Hop 2"] then
                                getgenv().InstantHop = true
                            end
                        end
                    end
                else
                    if aE then
                        local aI = aE:GetPivot().Position
                        getgenv().SH_Settings.Settings["Reset Anti Detect"] = true
                        ay:PivotTo(CFrame.new(aI))
                        pcall(
                            function()
                                local aJ = aE:FindFirstChild("RootPart")
                                if aJ then
                                    firesignal(aJ.Touched, ay.HumanoidRootPart)
                                end
                            end
                        )
                    else
                        if getgenv().SH_Settings.Settings["Reset Anti Detect"] then
                            getgenv().SH_Settings.Settings["Reset Anti Detect"] = false
                        end
                        Teleport()
                        if getgenv().SH_Settings.Settings["Hop 2"] then
                            getgenv().InstantHop = true
                        end
                    end
                end
            end
        end
    end
end
task.spawn(
    function()
        while true do
            task.wait()
            if
                getgenv().SH_Settings.MainConfig["Enable Farm"] and
                    getgenv().SH_Settings.MainConfig["Version Farm"] == "1"
             then
                local character = LocalPlayer.Character
                if character then
                    local crewTag = character:FindFirstChild("CrewBBG", true)
                    if crewTag then
                        crewTag:Destroy()
                    end

                    local humanoid = character:FindFirstChild("Humanoid")
                    if humanoid then
                        local position = character:GetPivot().Position
                        local chests = CollectionService:GetTagged("_ChestTagged")
                        local distance, nearest = math.huge, nil
                        for _, chest in ipairs(chests) do
                            if not chest:GetAttribute("IsDisabled") then
                                local magnitude = (chest:GetPivot().Position - position).Magnitude
                                if magnitude < distance then
                                    distance, nearest = magnitude, chest
                                end
                            end
                        end
                        local snipeLegendaryItem = getgenv().SH_Settings.MainConfig["Sniper Legendary Item"]
                        if snipeLegendaryItem then
                            if
                                LocalPlayer.Backpack:FindFirstChild("Fist of Darkness") or
                                    character:FindFirstChild("Fist of Darkness") or
                                    LocalPlayer.Backpack:FindFirstChild("Sweet Chalice") or
                                    character:FindFirstChild("Sweet Chalice") or
                                    LocalPlayer.Backpack:FindFirstChild("God's Chalice") or
                                    character:FindFirstChild("God's Chalice") or
                                    ReplicatedStorage:FindFirstChild("rip_indra True Form [Lv. 5000] [Raid Boss]") or
                                    workspace.Enemies:FindFirstChild("rip_indra True Form [Lv. 5000] [Raid Boss]") or
                                    ReplicatedStorage:FindFirstChild("Darkbeard [Lv. 1000] [Raid Boss]") or
                                    workspace.Enemies:FindFirstChild("Darkbeard [Lv. 1000] [Raid Boss]") or
                                    ReplicatedStorage:FindFirstChild("Dough King [Lv. 9999] [Raid Boss]") or
                                    workspace.Enemies:FindFirstChild("Dough King [Lv. 9999] [Raid Boss]")
                             then
                                Gui(false)
                                print("v1 k hop")
                                if getgenv().SH_Settings.Settings["Reset Anti Detect"] then
                                    getgenv().SH_Settings.Settings["Reset Anti Detect"] = false
                                end
                            else
                                if nearest then
                                    local chestPosition = nearest:GetPivot().Position
                                    getgenv().SH_Settings.Settings["Reset Anti Detect"] = true
                                    character:PivotTo(CFrame.new(chestPosition))
                                    pcall(
                                        function()
                                            local rootPart = nearest:FindFirstChild("RootPart")
                                            if rootPart then
                                                firesignal(rootPart.Touched, character.HumanoidRootPart)
                                            end
                                        end
                                    )
                                else
                                    if getgenv().SH_Settings.Settings["Reset Anti Detect"] then
                                        getgenv().SH_Settings.Settings["Reset Anti Detect"] = false
                                    end
                                    Teleport()
                                    if getgenv().SH_Settings.Settings["Hop 2"] then
                                        getgenv().InstantHop = true
                                    end
                                end
                            end
                        else
                            if nearest then
                                local chestPosition = nearest:GetPivot().Position
                                getgenv().SH_Settings.Settings["Reset Anti Detect"] = true
                                character:PivotTo(CFrame.new(chestPosition))
                                pcall(
                                    function()
                                        local rootPart = nearest:FindFirstChild("RootPart")
                                        if rootPart then
                                            firesignal(rootPart.Touched, character.HumanoidRootPart)
                                        end
                                    end
                                )
                            else
                                if getgenv().SH_Settings.Settings["Reset Anti Detect"] then
                                    getgenv().SH_Settings.Settings["Reset Anti Detect"] = false
                                end
                                Teleport()
                                if getgenv().SH_Settings.Settings["Hop 2"] then
                                    getgenv().InstantHop = true
                                end
                            end
                        end
                    end
                end
            end
        end
    end
)
function SwordLG()
    if getgenv().SH_Settings["Legendary Sword"]["Enable Auto Buy"] and World2 then
        local a = {[1] = "LegendarySwordDealer", [2] = "1"}
        game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer(unpack(a))
        local a = {[1] = "LegendarySwordDealer", [2] = "2"}
        game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer(unpack(a))
        local a = {[1] = "LegendarySwordDealer", [2] = "3"}
        game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer(unpack(a))
    end
end
function AuraHaki()
    if getgenv().SH_Settings["Aura Haki"]["Enable Auto Buy"] and (World2 or World3) then
        local cac = {[1] = "ColorsDealer", [2] = "2"}
        game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer(unpack(cac))
    end
end

function TimerCheck()
    local StartTime = os.time()
    while true do
        task.wait(1)
        getgenv().FoundStop =
            p.Backpack:FindFirstChild("Fist of Darkness") or p.Character:FindFirstChild("Fist of Darkness") or
            p.Backpack:FindFirstChild("Sweet Chalice") or
            p.Character:FindFirstChild("Sweet Chalice") or
            p.Backpack:FindFirstChild("God's Chalice") or
            p.Character:FindFirstChild("God's Chalice") or
            ReplicatedStorage:FindFirstChild("rip_indra True Form [Lv. 5000] [Raid Boss]") or
            workspace.Enemies:FindFirstChild("rip_indra True Form [Lv. 5000] [Raid Boss]") or
            ReplicatedStorage:FindFirstChild("Darkbeard [Lv. 1000] [Raid Boss]") or
            workspace.Enemies:FindFirstChild("Darkbeard [Lv. 1000] [Raid Boss]") or
            ReplicatedStorage:FindFirstChild("Dough King [Lv. 9999] [Raid Boss]") or
            workspace.Enemies:FindFirstChild("Dough King [Lv. 9999] [Raid Boss]")
        if getgenv().FoundStop or getgenv().SH_Settings.MainConfig["Enable Farm"] == false then
            StartTime = os.time()
        elseif os.time() - StartTime >= getgenv().SH_Settings.Settings["Time Checker"] then
            Teleport()
            StartTime = os.time()
        end
    end
end
function iqui()
    if getgenv().SH_Settings.Settings["Reset Anti Detect"] then
        for _, v in pairs(game.Players.LocalPlayer.Backpack:GetChildren()) do
            if v:IsA("Tool") then
                if v.ToolTip == "Melee" then
                    game.Players.LocalPlayer.Character.Humanoid:EquipTool(v)
                elseif v.ToolTip == "Gun" then
                    game.Players.LocalPlayer.Character.Humanoid:EquipTool(v)
                elseif v.ToolTip == "Sword" then
                    game.Players.LocalPlayer.Character.Humanoid:EquipTool(v)
                end
            end
        end
    end
end
task.spawn(
    function()
        pcall(TimerCheck)
    end
)

task.spawn(function()
    while true do
        task.wait(2)
        if getgenv().SH_Settings.Settings["Reset Anti Detect"] then
            if game.Players.LocalPlayer.Character and game.Players.LocalPlayer.Character:FindFirstChild("Humanoid") then
                game.Players.LocalPlayer.Character.Humanoid.Health = 0
            end
        end
    end
end)

task.spawn(
    functiaon()
        pcall(
            function()
                while math.round(task.wait(0.01)) do
                    cc()
                    chithcuthhfj()
                    cecek()
                    iqui()
                    Ffsnn()
                end
            end
        )
    end
)
spawn(
    function()
        while wait() do
            if World2 or World3 then
                AuraHaki()
                SwordLG()
            end
        end
    end
)
while true do
    SendData()
    wait(60)
end
